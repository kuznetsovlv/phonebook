(function () {
	"use strict";
	var path = require('path');
	var fs = require('fs');

	function reExports (obj) {
		for (var key in obj)
			exports[key] = obj[key];
	}

	function addModules (dirPath) {
		dirPath = path.normalize(dirPath);
		var modules = fs.readdirSync(dirPath);

		for (var i = 0, l = modules.length; i < l; ++i) {
			var fileName = modules[i],
			    filePath = path.join(dirPath, fileName);
			if (!fs.lstatSync(filePath).isFile())
				continue;
			var module = require(filePath),
			    name = module.name || fileName.replace(/\.\w*/, '');
			switch (typeof module) {
				case 'object':
					if (!(module instanceof Array)) {
						for (var key in module)
							exports[key] = module[key];
						break;
					}
				default: exports[name] = module;
			}
		}
	}
	
	addModules (path.join(__dirname, 'lib'));
})()